<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Grid-EYE | room-assistant</title>
    <meta name="description" content="A companion software to bring your home automation to the room-level for presence detection and more.">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2d89ef">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="theme-color" content="#ffffff">
    <meta property="article:modified_time" content="2020-02-23T15:22:25.000Z"><meta property="og:site_name" content="room-assistant"><meta property="og:title" content="Grid-EYE"><meta property="og:type" content="website"><meta property="og:url" content="www.room-assistant.io/integrations/grid-eye.html"><meta name="twitter:title" content="Grid-EYE"><meta name="twitter:url" content="www.room-assistant.io/integrations/grid-eye.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:label1" content="Written by"><meta name="twitter:data2" content="Heiko Rothe"><meta name="twitter:creator" content="@mKeRix">
    <link rel="preload" href="/assets/css/0.styles.6ccafff3.css" as="style"><link rel="preload" href="/assets/js/app.bb69a353.js" as="script"><link rel="preload" href="/assets/js/2.d7159a1c.js" as="script"><link rel="preload" href="/assets/js/17.49781a55.js" as="script"><link rel="prefetch" href="/assets/js/10.a37664df.js"><link rel="prefetch" href="/assets/js/11.67e7b0eb.js"><link rel="prefetch" href="/assets/js/12.a0870932.js"><link rel="prefetch" href="/assets/js/13.d777ef69.js"><link rel="prefetch" href="/assets/js/14.5b0eb2b0.js"><link rel="prefetch" href="/assets/js/15.eb042c5f.js"><link rel="prefetch" href="/assets/js/16.dbb54867.js"><link rel="prefetch" href="/assets/js/18.c6db1280.js"><link rel="prefetch" href="/assets/js/19.2d875e18.js"><link rel="prefetch" href="/assets/js/20.f1ab9812.js"><link rel="prefetch" href="/assets/js/21.c4959b69.js"><link rel="prefetch" href="/assets/js/3.7045207d.js"><link rel="prefetch" href="/assets/js/4.e4954225.js"><link rel="prefetch" href="/assets/js/5.a6d16c77.js"><link rel="prefetch" href="/assets/js/6.ea48aa5b.js"><link rel="prefetch" href="/assets/js/7.b09d797c.js"><link rel="prefetch" href="/assets/js/8.b8dd6134.js"><link rel="prefetch" href="/assets/js/9.69a7a5ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ccafff3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">room-assistant</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link router-link-active">
  Integrations
</a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link router-link-active">
  Integrations
</a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/integrations/" class="sidebar-link">Overview</a></li><li><a href="/integrations/home-assistant.html" class="sidebar-link">Home Assistant</a></li><li><a href="/integrations/bluetooth-low-energy.html" class="sidebar-link">Bluetooth Low Energy</a></li><li><a href="/integrations/bluetooth-classic.html" class="sidebar-link">Bluetooth Classic</a></li><li><a href="/integrations/omron-d6t.html" class="sidebar-link">Omron D6T</a></li><li><a href="/integrations/grid-eye.html" class="active sidebar-link">Grid-EYE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/integrations/grid-eye.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/integrations/grid-eye.html#sensor-placement" class="sidebar-link">Sensor placement</a></li><li class="sidebar-sub-header"><a href="/integrations/grid-eye.html#settings" class="sidebar-link">Settings</a></li></ul></li><li><a href="/integrations/gpio.html" class="sidebar-link">GPIO</a></li><li><a href="/integrations/shell.html" class="sidebar-link">Shell Commands</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="grid-eye"><a href="#grid-eye" class="header-anchor">#</a> Grid-EYE</h1> <p><strong>Integration Key:</strong> <code>gridEye</code></p> <p>The Grid-EYE sensor by Panasonic is a thermopile sensor that can be used to measure a 64x64 matrix of temperatures in front of its lense. This data can be used to detect human presence in the room, even if the person is stationary. This is done by analyzing the temperature readings for localized peaks, i.e. certain spots have a notably higher temperature than the rest. SparkFun sells a <a href="https://www.sparkfun.com/products/14607" target="_blank" rel="noopener noreferrer">version of the sensor<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that can be easily connected to Linux boards and will also work with this component.</p> <p>This integration will provide a sensor that contains a count of people in the room. It also includes their coordinates (relative to the sensor view) in the sensor attributes.</p> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <p>The sensor needs to be connected to the I<sup>2</sup>C pins on your machine.</p> <h3 id="running-with-nodejs"><a href="#running-with-nodejs" class="header-anchor">#</a> Running with NodeJS</h3> <p>For Raspberry Pi devices the I<sup>2</sup>C interface also needs to be enabled using <code>sudo raspi-config</code> and then enabling the I<sup>2</sup>C option under Advanced Options.</p> <h3 id="running-with-docker"><a href="#running-with-docker" class="header-anchor">#</a> Running with Docker</h3> <p>Your i2c device needs to be enabled on the host and mapped into the container as a device like shown below.</p> <details class="custom-block details"><summary>Example docker-compose.yml</summary> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">room-assistant</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mkerix/room<span class="token punctuation">-</span>assistant
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /var/run/dbus<span class="token punctuation">:</span>/var/run/dbus
    <span class="token key atrule">devices</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /dev/i2c<span class="token punctuation">-</span><span class="token number">1</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">NODE_CONFIG</span><span class="token punctuation">:</span> <span class="token punctuation">&gt;</span><span class="token scalar string">
        {
          &quot;global&quot;: {
            &quot;instanceName&quot;: &quot;changeme&quot;,
            &quot;integrations&quot;: [&quot;gridEye&quot;]
          }
        }</span>
</code></pre></div></details> <h3 id="running-with-hass-io"><a href="#running-with-hass-io" class="header-anchor">#</a> Running with Hass.io</h3> <p>You will need to enable the i2c interface by following the <a href="https://www.home-assistant.io/hassio/enable_i2c/" target="_blank" rel="noopener noreferrer">official Hass.io guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The <code>config.txt</code> file that you create should also contain an additional option, leading to the following contents:</p> <div class="language- extra-class"><pre class="language-text"><code>dtparam=i2c1=on
dtparam=i2c_arm=on
dtparam=i2c_baudrate=10000
</code></pre></div><p>Reboot after you imported your config in the supervisor.</p> <h2 id="sensor-placement"><a href="#sensor-placement" class="header-anchor">#</a> Sensor placement</h2> <p>When placing your sensor you need to consider a few factors to get reliable results:</p> <ul><li>Don't face the sensor towards a source of heat that is less than 5 meters away, for example radiators or windows.</li> <li>Make sure the sensor has a clear view of all areas that you want to track.</li> <li>Consider the range of the sensor, the further away people are the harder it will be to reliably detect them.</li> <li>Consider the field of view as stated in the datasheet.</li></ul> <h2 id="settings"><a href="#settings" class="header-anchor">#</a> Settings</h2> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>busNumber</code></td> <td>Number</td> <td><code>1</code></td> <td>I<sup>2</sup>C bus number of your machine that the sensor is connected to.</td></tr> <tr><td><code>address</code></td> <td>Number</td> <td><code>0x69</code></td> <td>I<sup>2</sup>C address of the D6T sensor that you want to use.</td></tr> <tr><td><code>deltaThreshold</code></td> <td>Number</td> <td><code>2</code></td> <td>Minimum temperature difference between average and single temperature pixel in °C for it to be considered as human presence. Increase if you are seeing false positives, decrease if you are seeing false negatives.</td></tr></tbody></table> <details class="custom-block details"><summary>Example Config</summary> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">integrations</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> gridEye
<span class="token key atrule">gridEye</span><span class="token punctuation">:</span>
  <span class="token key atrule">deltaThreshold</span><span class="token punctuation">:</span> <span class="token number">2</span>
</code></pre></div></details></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mKeRix/room-assistant/edit/master/docs/integrations/grid-eye.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/23/2020, 3:22:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/integrations/omron-d6t.html" class="prev">
        Omron D6T
      </a></span> <span class="next"><a href="/integrations/gpio.html">
        GPIO
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bb69a353.js" defer></script><script src="/assets/js/2.d7159a1c.js" defer></script><script src="/assets/js/17.49781a55.js" defer></script>
  </body>
</html>
