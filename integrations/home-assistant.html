<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home Assistant Core | room-assistant</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2d89ef">
    <meta name="description" content="A companion software to bring your home automation to the room-level for presence detection and more.">
    <meta property="article:modified_time" content="2020-06-02T20:11:04.000Z">
    <meta property="og:site_name" content="room-assistant">
    <meta property="og:title" content="Home Assistant Core">
    <meta property="og:type" content="website">
    <meta property="og:url" content="www.room-assistant.io/integrations/home-assistant.html">
    <meta name="twitter:title" content="Home Assistant Core">
    <meta name="twitter:url" content="www.room-assistant.io/integrations/home-assistant.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data2" content="Heiko Rothe">
    <meta name="twitter:creator" content="@mKeRix">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.94a3a7cc.css" as="style"><link rel="preload" href="/assets/js/app.e7604ea9.js" as="script"><link rel="preload" href="/assets/js/3.27a179ad.js" as="script"><link rel="preload" href="/assets/js/25.c2d94681.js" as="script"><link rel="preload" href="/assets/js/4.3bbfe409.js" as="script"><link rel="prefetch" href="/assets/js/10.76598841.js"><link rel="prefetch" href="/assets/js/11.7a7c1210.js"><link rel="prefetch" href="/assets/js/12.994b0823.js"><link rel="prefetch" href="/assets/js/13.44dbc8bf.js"><link rel="prefetch" href="/assets/js/14.d971cd95.js"><link rel="prefetch" href="/assets/js/15.9a5f6798.js"><link rel="prefetch" href="/assets/js/16.6cfa96fa.js"><link rel="prefetch" href="/assets/js/17.9703629d.js"><link rel="prefetch" href="/assets/js/18.aac9e02f.js"><link rel="prefetch" href="/assets/js/19.e9135a96.js"><link rel="prefetch" href="/assets/js/20.88a8adfb.js"><link rel="prefetch" href="/assets/js/21.954d5641.js"><link rel="prefetch" href="/assets/js/22.fc32e666.js"><link rel="prefetch" href="/assets/js/23.87a4726c.js"><link rel="prefetch" href="/assets/js/24.36bac486.js"><link rel="prefetch" href="/assets/js/26.a9a8f6ab.js"><link rel="prefetch" href="/assets/js/27.10bc339d.js"><link rel="prefetch" href="/assets/js/28.3615c2da.js"><link rel="prefetch" href="/assets/js/29.dff5eba3.js"><link rel="prefetch" href="/assets/js/5.d426df70.js"><link rel="prefetch" href="/assets/js/6.f88015b0.js"><link rel="prefetch" href="/assets/js/7.796b3031.js"><link rel="prefetch" href="/assets/js/8.dca56cb7.js"><link rel="prefetch" href="/assets/js/9.01425f33.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.78bd9431.js">
    <link rel="stylesheet" href="/assets/css/0.styles.94a3a7cc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">room-assistant</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link router-link-active">
  Integrations
</a></div><div class="nav-item"><a href="https://github.com/mKeRix/room-assistant?sponsor=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link router-link-active">
  Integrations
</a></div><div class="nav-item"><a href="https://github.com/mKeRix/room-assistant?sponsor=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/integrations/" class="sidebar-link">Overview</a></li><li><a href="/integrations/home-assistant.html" class="active sidebar-link">Home Assistant Core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/integrations/home-assistant.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/integrations/home-assistant.html#device-trackers" class="sidebar-link">Device Trackers</a></li><li class="sidebar-sub-header"><a href="/integrations/home-assistant.html#settings" class="sidebar-link">Settings</a></li></ul></li><li><a href="/integrations/bluetooth-low-energy.html" class="sidebar-link">Bluetooth Low Energy</a></li><li><a href="/integrations/bluetooth-classic.html" class="sidebar-link">Bluetooth Classic</a></li><li><a href="/integrations/xiaomi-mi.html" class="sidebar-link">Xiaomi Mi Sensors</a></li><li><a href="/integrations/omron-d6t.html" class="sidebar-link">Omron D6T</a></li><li><a href="/integrations/grid-eye.html" class="sidebar-link">Grid-EYE</a></li><li><a href="/integrations/gpio.html" class="sidebar-link">GPIO</a></li><li><a href="/integrations/shell.html" class="sidebar-link">Shell Commands</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="home-assistant-core"><a href="#home-assistant-core" class="header-anchor">#</a> Home Assistant Core</h1> <p><strong>Integration Key:</strong> <code>homeAssistant</code></p> <p>The <a href="https://www.home-assistant.io" target="_blank" rel="noopener noreferrer">Home Assistant Core<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> integration shares data with the home automation software over <a href="https://www.home-assistant.io/integrations/mqtt/" target="_blank" rel="noopener noreferrer">MQTT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>Running on Home Assistant OS?</strong> If you are also using the MQTT server add-on room-assistant will automatically pick up the correct credentials - no configuration needed!</p></div> <p>You will need to setup an MQTT broker that both your instance of Home Assistant Core and all instances of room-assistant can connect to. If you are using Home Assistant OS you can install the <a href="https://github.com/home-assistant/hassio-addons/tree/master/mosquitto" target="_blank" rel="noopener noreferrer">official mosquitto add-on<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to get started quickly.</p> <p>room-assistant makes use of the <a href="https://www.home-assistant.io/docs/mqtt/discovery/" target="_blank" rel="noopener noreferrer">MQTT auto discovery<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> features provided by Home Assistant Core to automatically create all entities for you. It is strongly recommended that you enable this feature when setting up the MQTT integration in Home Assistant Core.</p> <h2 id="device-trackers"><a href="#device-trackers" class="header-anchor">#</a> Device Trackers</h2> <p>Some integrations, such as <a href="/integrations/bluetooth-classic.html">Bluetooth Classic</a> or <a href="/integrations/bluetooth-low-energy.html">Bluetooth Low Energy</a> support the <a href="https://www.home-assistant.io/integrations/device_tracker.mqtt/" target="_blank" rel="noopener noreferrer">MQTT device tracker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in Home Assistant Core. This is for example useful if you want to integrate the room-assistant presence detection with others in the form of a <a href="https://www.home-assistant.io/integrations/person/" target="_blank" rel="noopener noreferrer">person<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Unfortunately, device trackers can not be auto discovered by Home Assistant Core. To enable this feature you will have to edit your Home Assistant Core configuration manually and add a few lines as shown in the example below. You can get all your available device tracker topics from the room-assistant logs.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">device_tracker</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">platform</span><span class="token punctuation">:</span> mqtt
  <span class="token key atrule">devices</span><span class="token punctuation">:</span>
    <span class="token key atrule">apple_watch</span><span class="token punctuation">:</span> <span class="token string">'room-assistant/device_tracker/bluetooth-classic-aa-aa-aa-aa-aa-aa-tracker/state'</span>
  <span class="token key atrule">payload_home</span><span class="token punctuation">:</span> <span class="token string">'true'</span>
  <span class="token key atrule">payload_not_home</span><span class="token punctuation">:</span> <span class="token string">'false'</span>
  <span class="token key atrule">source_type</span><span class="token punctuation">:</span> bluetooth
</code></pre></div><h2 id="settings"><a href="#settings" class="header-anchor">#</a> Settings</h2> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>mqttUrl</code></td> <td>String</td> <td><code>mqtt://localhost:1883</code></td> <td>Connection string for your MQTT broker.</td></tr> <tr><td><code>mqttOptions</code></td> <td><a href="#mqtt-options">MQTT Options</a></td> <td></td> <td>Additional options for the MQTT connection.</td></tr></tbody></table> <h3 id="mqtt-options"><a href="#mqtt-options" class="header-anchor">#</a> MQTT Options</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>username</code></td> <td>String</td> <td></td> <td>Username for authentication</td></tr> <tr><td><code>password</code></td> <td>String</td> <td></td> <td>Password for authentication</td></tr> <tr><td><code>rejectUnauthorized</code></td> <td>Boolean</td> <td><code>true</code></td> <td>Whether MQTTS connections should fail for invalid certificates or not. Set this to <code>false</code> if you are using a self-signed certificate and connect via TLS.</td></tr></tbody></table> <details class="custom-block details"><summary>Example Config</summary> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">integrations</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> homeAssistant
<span class="token key atrule">homeAssistant</span><span class="token punctuation">:</span>
  <span class="token key atrule">mqttUrl</span><span class="token punctuation">:</span> mqtt<span class="token punctuation">:</span>//homeassistant.local<span class="token punctuation">:</span><span class="token number">1883</span>
  <span class="token key atrule">mqttOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> youruser
    <span class="token key atrule">password</span><span class="token punctuation">:</span> yourpass
</code></pre></div></details></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mKeRix/room-assistant/edit/master/docs/integrations/home-assistant.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/2/2020, 8:11:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/integrations/" class="prev router-link-active">
        Overview
      </a></span> <span class="next"><a href="/integrations/bluetooth-low-energy.html">
        Bluetooth Low Energy
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e7604ea9.js" defer></script><script src="/assets/js/3.27a179ad.js" defer></script><script src="/assets/js/25.c2d94681.js" defer></script><script src="/assets/js/4.3bbfe409.js" defer></script>
  </body>
</html>
