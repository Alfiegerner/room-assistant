<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | room-assistant</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2d89ef">
    <meta name="description" content="A companion software to bring your home automation to the room-level for presence detection and more.">
    <meta property="article:modified_time" content="2020-10-05T20:28:25.000Z">
    <meta property="og:site_name" content="room-assistant">
    <meta property="og:title" content="Installation">
    <meta property="og:type" content="website">
    <meta property="og:url" content="www.room-assistant.io/guide/installation.html">
    <meta name="twitter:title" content="Installation">
    <meta name="twitter:url" content="www.room-assistant.io/guide/installation.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Heiko Rothe">
    <meta name="twitter:creator" content="@mKeRix">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.8932e1f6.css" as="style"><link rel="preload" href="/assets/js/app.9661e273.js" as="script"><link rel="preload" href="/assets/js/3.066c06e2.js" as="script"><link rel="preload" href="/assets/js/6.c899d60b.js" as="script"><link rel="preload" href="/assets/js/4.51280a39.js" as="script"><link rel="prefetch" href="/assets/js/10.de84e5e4.js"><link rel="prefetch" href="/assets/js/11.2985f283.js"><link rel="prefetch" href="/assets/js/12.2ce879aa.js"><link rel="prefetch" href="/assets/js/13.fd9eab93.js"><link rel="prefetch" href="/assets/js/14.e97aa009.js"><link rel="prefetch" href="/assets/js/15.67c543f5.js"><link rel="prefetch" href="/assets/js/16.c2e919f3.js"><link rel="prefetch" href="/assets/js/17.b5854b92.js"><link rel="prefetch" href="/assets/js/18.9f824c84.js"><link rel="prefetch" href="/assets/js/19.9a7a6005.js"><link rel="prefetch" href="/assets/js/20.08238b36.js"><link rel="prefetch" href="/assets/js/21.50332094.js"><link rel="prefetch" href="/assets/js/22.09380d5e.js"><link rel="prefetch" href="/assets/js/23.1ca1bba7.js"><link rel="prefetch" href="/assets/js/24.6bc37954.js"><link rel="prefetch" href="/assets/js/25.0f709575.js"><link rel="prefetch" href="/assets/js/26.70dc3686.js"><link rel="prefetch" href="/assets/js/27.0c2f63f4.js"><link rel="prefetch" href="/assets/js/28.caaad1c8.js"><link rel="prefetch" href="/assets/js/29.8347d63a.js"><link rel="prefetch" href="/assets/js/5.09c9c354.js"><link rel="prefetch" href="/assets/js/7.7e1350b3.js"><link rel="prefetch" href="/assets/js/8.f366fc90.js"><link rel="prefetch" href="/assets/js/9.870e5c65.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.33b3cf02.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8932e1f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">room-assistant</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link">
  Integrations
</a></div><div class="nav-item"><a href="https://github.com/mKeRix/room-assistant?sponsor=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/integrations/" class="nav-link">
  Integrations
</a></div><div class="nav-item"><a href="https://github.com/mKeRix/room-assistant?sponsor=1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sponsor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mKeRix/room-assistant" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/installation.html" aria-current="page" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/installation.html#running-with-nodejs" class="sidebar-link">Running with NodeJS</a></li><li class="sidebar-sub-header"><a href="/guide/installation.html#running-with-docker" class="sidebar-link">Running with Docker</a></li><li class="sidebar-sub-header"><a href="/guide/installation.html#running-with-home-assistant-os" class="sidebar-link">Running with Home Assistant OS</a></li></ul></li><li><a href="/guide/upgrading.html" class="sidebar-link">Upgrading</a></li><li><a href="/guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/guide/cluster.html" class="sidebar-link">Cluster</a></li><li><a href="/guide/entities.html" class="sidebar-link">Entities</a></li><li><a href="/guide/cli.html" class="sidebar-link">CLI</a></li><li><a href="/guide/api.html" class="sidebar-link">API</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Quickstart</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/quickstart-pi-zero-w.html" class="sidebar-link">Raspberry Pi Zero W</a></li><li><a href="/guide/quickstart-pi.html" class="sidebar-link">Raspberry Pi 3 or 4</a></li><li><a href="/guide/quickstart-ansible.html" class="sidebar-link">Ansible</a></li><li><a href="/guide/quickstart-docker.html" class="sidebar-link">Docker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Also checkout the quickstart guides in the menu on the left! If you are planning on installing room-assistant on multiple hosts <a href="./quickstart-ansible">Ansible</a> will automate the process for you.</p></div> <h2 id="running-with-nodejs"><a href="#running-with-nodejs" class="header-anchor">#</a> Running with NodeJS</h2> <h3 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h3> <p>Please make sure you have either NodeJS 10.x or NodeJS 12.x installed. The version provided by Raspbian by default is outdated.
Installation guides for NodeJS can be found <a href="https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. For Pi Zero devices you will need to use a <a href="https://github.com/sdesalas/node-pi-zero#vlts" target="_blank" rel="noopener noreferrer">different installation process<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>room-assistant instances discover each other in the local network using mDNS. You will require two additional system packages to get this working:</p> <div class="language-shell script extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libavahi-compat-libdnssd-dev
</code></pre></div><p>Note that some of the integrations may also require system packages to be installed, please look at the documentation of the integrations you want to use for this information.</p> <h3 id="installation-2"><a href="#installation-2" class="header-anchor">#</a> Installation</h3> <p>You can install room-assistant using npm with the following command:</p> <div class="language-shell script extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">npm</span> i --global --unsafe-perm room-assistant
</code></pre></div><p>npm will link the binary for running the software, usually into <code>/usr/bin/room-assistant</code>.
If the directory is already in your <code>PATH</code> you can start it directly by typing <code>room-assistant</code>. Otherwise you can start it by typing the full path name of where it was installed.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>During installation you may see a lot of messages like the one in the image below scroll by. Don't worry - these are not errors! This is just the output of dependencies being compiled. As long as npm does not say that the installation ran into an error at the end you are good.</p> <p><img src="/assets/img/compilation-msgs.0260ae46.png" alt="compilation messages"></p></div> <h3 id="making-it-a-service"><a href="#making-it-a-service" class="header-anchor">#</a> Making it a service</h3> <p>To make sure room-assistant always runs on your machine you can create a system service for it. Create the file <code>/etc/systemd/system/room-assistant.service</code> similar to the following example:</p> <div class="language- extra-class"><pre class="language-text"><code>[Unit]
Description=room-assistant service

[Service]
ExecStart=/usr/local/bin/room-assistant
WorkingDirectory=/home/pi/room-assistant
Restart=always
RestartSec=10
User=pi

[Install]
WantedBy=multi-user.target
</code></pre></div><p>After you have your config ready - in the above example it should be located in <code>/home/pi/room-assistant/config/</code> - you can start and enable the service with:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> room-assistant.service
<span class="token function">sudo</span> systemctl start room-assistant.service
</code></pre></div><h2 id="running-with-docker"><a href="#running-with-docker" class="header-anchor">#</a> Running with Docker</h2> <p>This project provides official Docker images on <a href="https://hub.docker.com/r/mkerix/room-assistant/" target="_blank" rel="noopener noreferrer">Docker Hub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You can either use the latest or a specific version by using the correct tag. It is strongly recommended to run this image with the <code>host</code> network, otherwise you may run into problems with many parts of the software. For auto-discovery functionality on Linux you will need to map the <code>/var/run/dbus</code> volume.</p> <details class="custom-block details"><summary>Example docker-compose.yml</summary> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">room-assistant</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mkerix/room<span class="token punctuation">-</span>assistant
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> host
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /var/run/dbus<span class="token punctuation">:</span>/var/run/dbus
</code></pre></div></details> <h2 id="running-with-home-assistant-os"><a href="#running-with-home-assistant-os" class="header-anchor">#</a> Running with Home Assistant OS</h2> <p>You can install room-assistant as Home Assistant OS add-on by <a href="https://www.home-assistant.io/hassio/installing_third_party_addons/" target="_blank" rel="noopener noreferrer">adding the following URL as repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <p><code>https://github.com/mKeRix/hassio-repo</code></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mKeRix/room-assistant/edit/master/docs/guide/installation.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/5/2020, 8:28:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/" class="prev router-link-active">
        Introduction
      </a></span> <span class="next"><a href="/guide/upgrading.html">
        Upgrading
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9661e273.js" defer></script><script src="/assets/js/3.066c06e2.js" defer></script><script src="/assets/js/6.c899d60b.js" defer></script><script src="/assets/js/4.51280a39.js" defer></script>
  </body>
</html>
