(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{372:function(t,e,a){"use strict";a.r(e);var s=a(39),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"home-assistant-core"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#home-assistant-core"}},[t._v("#")]),t._v(" Home Assistant Core")]),t._v(" "),a("p",[a("strong",[t._v("Integration Key:")]),t._v(" "),a("code",[t._v("homeAssistant")])]),t._v(" "),a("p",[t._v("The "),a("a",{attrs:{href:"https://www.home-assistant.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Home Assistant Core"),a("OutboundLink")],1),t._v(" integration shares data with the home automation software over "),a("a",{attrs:{href:"https://www.home-assistant.io/integrations/mqtt/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[a("strong",[t._v("Running on Home Assistant OS?")]),t._v(" If you are also using the MQTT server add-on room-assistant will automatically pick up the correct credentials - no configuration needed!")])]),t._v(" "),a("p",[t._v("You will need to setup an MQTT broker that both your instance of Home Assistant Core and all instances of room-assistant can connect to. If you are using Home Assistant OS you can install the "),a("a",{attrs:{href:"https://github.com/home-assistant/hassio-addons/tree/master/mosquitto",target:"_blank",rel:"noopener noreferrer"}},[t._v("official mosquitto add-on"),a("OutboundLink")],1),t._v(" to get started quickly.")]),t._v(" "),a("p",[t._v("room-assistant makes use of the "),a("a",{attrs:{href:"https://www.home-assistant.io/docs/mqtt/discovery/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT auto discovery"),a("OutboundLink")],1),t._v(" features provided by Home Assistant Core to automatically create all entities for you. It is strongly recommended that you enable this feature when setting up the MQTT integration in Home Assistant Core.")]),t._v(" "),a("h2",{attrs:{id:"device-trackers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#device-trackers"}},[t._v("#")]),t._v(" Device Trackers")]),t._v(" "),a("p",[t._v("Some integrations, such as "),a("RouterLink",{attrs:{to:"/integrations/bluetooth-classic.html"}},[t._v("Bluetooth Classic")]),t._v(" or "),a("RouterLink",{attrs:{to:"/integrations/bluetooth-low-energy.html"}},[t._v("Bluetooth Low Energy")]),t._v(" support the "),a("a",{attrs:{href:"https://www.home-assistant.io/integrations/device_tracker.mqtt/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT device tracker"),a("OutboundLink")],1),t._v(" in Home Assistant Core. This is for example useful if you want to integrate the room-assistant presence detection with others in the form of a "),a("a",{attrs:{href:"https://www.home-assistant.io/integrations/person/",target:"_blank",rel:"noopener noreferrer"}},[t._v("person"),a("OutboundLink")],1),t._v(". Unfortunately, device trackers can not be auto discovered by Home Assistant Core. To enable this feature you will have to edit your Home Assistant Core configuration manually and add a few lines as shown in the example below. You can get all your available device tracker topics from the room-assistant logs.")],1),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("device_tracker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("platform")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mqtt\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("devices")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apple_watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room-assistant/device_tracker/bluetooth-classic-aa-aa-aa-aa-aa-aa-tracker/state'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("payload_home")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("payload_not_home")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'false'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source_type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bluetooth\n")])])]),a("h2",{attrs:{id:"settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#settings"}},[t._v("#")]),t._v(" Settings")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("mqttUrl")])]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[a("code",[t._v("mqtt://localhost:1883")])]),t._v(" "),a("td",[t._v("Connection string for your MQTT broker.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mqttOptions")])]),t._v(" "),a("td",[a("a",{attrs:{href:"#mqtt-options"}},[t._v("MQTT Options")])]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Additional options for the MQTT connection.")])])])]),t._v(" "),a("h3",{attrs:{id:"mqtt-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-options"}},[t._v("#")]),t._v(" MQTT Options")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("username")])]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Username for authentication")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("password")])]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Password for authentication")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("rejectUnauthorized")])]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[a("code",[t._v("true")])]),t._v(" "),a("td",[t._v("Whether MQTTS connections should fail for invalid certificates or not. Set this to "),a("code",[t._v("false")]),t._v(" if you are using a self-signed certificate and connect via TLS.")])])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("Example Config")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("integrations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" homeAssistant\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("homeAssistant")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mqttUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mqtt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//homeassistant.local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1883")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mqttOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" youruser\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yourpass\n")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);