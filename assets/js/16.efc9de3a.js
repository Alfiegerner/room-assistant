(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{387:function(t,s,e){"use strict";e.r(s);var a=e(49),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("The API is still a work in progress and some features are missing. The existing endpoints will stay compatible within the same major version though.")])]),t._v(" "),e("p",[t._v("Each instance of room-assistant exposes an HTTP API that you can use for debugging or connecting it to different services. The API is accessible under port "),e("code",[t._v("6415")]),t._v(" by default.")]),t._v(" "),e("p",[t._v("The API is documented with an OpenAPI schema that you can retrieve under "),e("code",[t._v("/api-json")]),t._v(". For a visual representation navigate to "),e("code",[t._v("/api")]),t._v(". You can make all available API calls directly in your browser from this page.")]),t._v(" "),e("h2",{attrs:{id:"websocket-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#websocket-api"}},[t._v("#")]),t._v(" WebSocket API")]),t._v(" "),e("p",[t._v("room-assistant also offers a websocket interface, which you can use to subscribe to entity updates. It is hosted on the same port as the HTTP API. To subscribe to updates you can send the following request to the socket:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"event"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribeEvents"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"entityUpdates"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("This will give you a stream of all entity updates in the same format as the "),e("RouterLink",{attrs:{to:"/integrations/mqtt.html#message-format"}},[t._v("MQTT integration")]),t._v(" provides.")],1)])}),[],!1,null,null,null);s.default=n.exports}}]);